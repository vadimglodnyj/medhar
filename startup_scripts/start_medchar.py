#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
–ü—Ä–æ—Å—Ç–∏–π —Å–∫—Ä–∏–ø—Ç –¥–ª—è –∑–∞–ø—É—Å–∫—É –º–µ–¥–∏—á–Ω–æ–≥–æ –¥–æ–¥–∞—Ç–∫—É
"""

import sys
import os
import subprocess

def main():
    """–ó–∞–ø—É—Å–∫ –º–µ–¥–∏—á–Ω–æ–≥–æ –¥–æ–¥–∞—Ç–∫—É"""
    print("üè• –ó–∞–ø—É—Å–∫ –º–µ–¥–∏—á–Ω–æ–≥–æ –¥–æ–¥–∞—Ç–∫—É...")
    print("=" * 50)
    
    # –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ —á–∏ —î –≤—ñ—Ä—Ç—É–∞–ª—å–Ω–µ —Å–µ—Ä–µ–¥–æ–≤–∏—â–µ
    if not os.path.exists("venv"):
        print("‚ùå –í—ñ—Ä—Ç—É–∞–ª—å–Ω–µ —Å–µ—Ä–µ–¥–æ–≤–∏—â–µ –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ!")
        print("–°—Ç–≤–æ—Ä—ñ—Ç—å –≤—ñ—Ä—Ç—É–∞–ª—å–Ω–µ —Å–µ—Ä–µ–¥–æ–≤–∏—â–µ: python -m venv venv")
        return
    
    # –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ —á–∏ —î app.py
    if not os.path.exists("app.py"):
        print("‚ùå –§–∞–π–ª app.py –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ!")
        return
    
    try:
        # –ó–∞–ø—É—Å–∫–∞—î–º–æ –¥–æ–¥–∞—Ç–æ–∫
        print("üöÄ –ó–∞–ø—É—Å–∫ Flask –¥–æ–¥–∞—Ç–∫—É...")
        print("üì± –í—ñ–¥–∫—Ä–∏–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä: http://127.0.0.1:5000")
        print("‚èπÔ∏è  –î–ª—è –∑—É–ø–∏–Ω–∫–∏ –Ω–∞—Ç–∏—Å–Ω—ñ—Ç—å Ctrl+C")
        print("=" * 50)
        
        # –ó–∞–ø—É—Å–∫–∞—î–º–æ —á–µ—Ä–µ–∑ Python
        subprocess.run([sys.executable, "app.py"], check=True)
        
    except KeyboardInterrupt:
        print("\n‚èπÔ∏è  –î–æ–¥–∞—Ç–æ–∫ –∑—É–ø–∏–Ω–µ–Ω–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–µ–º")
    except subprocess.CalledProcessError as e:
        print(f"‚ùå –ü–æ–º–∏–ª–∫–∞ –∑–∞–ø—É—Å–∫—É: {e}")
    except Exception as e:
        print(f"‚ùå –ù–µ–æ—á—ñ–∫—É–≤–∞–Ω–∞ –ø–æ–º–∏–ª–∫–∞: {e}")

if __name__ == "__main__":
    main()
